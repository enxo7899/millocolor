:root {
  --item-width: 150px;
  --item-height: 150px;
  --total-items: 30; /* Number of items (15 original + 15 duplicates) */
  --animation-duration: 45s; /* Slowed down from 30s to 45s */
  --spacing: 50px; /* Spacing between items */
}

.partner-carousel-wrapper {
  width: 100%;
  max-width: 100%;
  margin-inline: auto;
  position: relative;
  height: var(--item-height);
  margin-top: 0;
  overflow: hidden;
  mask-image: linear-gradient(
    to right,
    rgba(0, 0, 0, 0),
    rgba(0, 0, 0, 1) 10%,
    rgba(0, 0, 0, 1) 90%,
    rgba(0, 0, 0, 0)
  );
}

.partner-carousel-wrapper:hover .partner-carousel-item {
  animation-play-state: paused;
}

.partner-carousel-container {
  background: #0A0E12;
  width: 100%;
  height: 100%;
}

@keyframes scrollLeft {
  to {
    left: calc(var(--item-width) * -1);
  }
}

.partner-carousel-item {
  width: var(--item-width);
  height: var(--item-height);
  border-radius: 6px;
  position: absolute;
  left: max(calc((var(--item-width) + var(--spacing)) * var(--total-items)), 100%);
  animation-name: scrollLeft;
  animation-duration: var(--animation-duration);
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  margin-right: var(--spacing);
  animation-delay: calc(var(--animation-duration) / var(--total-items) * (var(--total-items) - var(--n)) * -1);
  filter: grayscale(100%);
  transition: filter 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
  cursor: pointer;
}

/* Default state: all items are grayscale */
.partner-carousel-item {
  filter: grayscale(100%);
  opacity: 0.7;
}

/* When a specific item is hovered, only that item becomes colored */
.partner-carousel-item.hovered {
  filter: grayscale(0%);
  opacity: 1;
  z-index: 10;
  transform: scale(1.05);
  transition: filter 0.2s ease, transform 0.2s ease, opacity 0.2s ease;
}

/* When an item is hovered, dim all other items */
.partner-carousel-item.dimmed {
  filter: grayscale(100%);
  opacity: 0.4;
  transition: filter 0.2s ease, opacity 0.2s ease;
}

/* Pause animation when carousel is paused (desktop hover) */
.partner-carousel-wrapper:hover .partner-carousel-item {
  animation-play-state: paused;
}

/* Mobile touch feedback and improvements */
@media (max-width: 768px) {
  /* Enhanced touch interaction for mobile */
  .partner-carousel-wrapper {
    touch-action: pan-x;
    -webkit-overflow-scrolling: touch;
    cursor: grab;
  }
  
  .partner-carousel-wrapper.dragging {
    cursor: grabbing;
  }
  
  /* Default state: animation should be running on mobile */
  .partner-carousel-item {
    animation-play-state: running !important;
  }
  
  /* Only pause when explicitly paused or dragging */
  .partner-carousel-wrapper.paused .partner-carousel-item,
  .partner-carousel-wrapper.dragging .partner-carousel-item {
    animation-play-state: paused !important;
  }
  
  .partner-carousel-item:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }
  
  /* Better visual feedback for mobile */
  .partner-carousel-item.hovered {
    transform: scale(1.1);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }
  
  /* Mobile carousel container adjustments */
  .partner-carousel-container {
    will-change: transform;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    transition: transform 0.3s ease-out;
  }
  
  .partner-carousel-wrapper.dragging .partner-carousel-container {
    transition: none;
  }
}

.partner-carousel-item a {
  display: block;
  width: 100%;
  height: 100%;
}

.partner-carousel-item img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 10px;
  background: transparent;
}

/* Ensure all logos are properly contained without cropping */
.partner-carousel-item img[src*='sata'],
.partner-carousel-item img[src*='jbm'],
.partner-carousel-item img[src*='cromax'],
.partner-carousel-item img[src*='duxone'],
.partner-carousel-item img[src*='epvernici'],
.partner-carousel-item img[src*='fiac'],
.partner-carousel-item img[src*='hempel'],
.partner-carousel-item img[src*='masterdichem'],
.partner-carousel-item img[src*='mirka'],
.partner-carousel-item img[src*='roberlo'],
.partner-carousel-item img[src*='RUPES'],
.partner-carousel-item img[src*='SHW'],
.partner-carousel-item img[src*='standox'],
.partner-carousel-item img[src*='Telwin'],
.partner-carousel-item img[src*='troton'] {
  object-fit: contain;
  object-position: center;
  padding: 0;
}

.partner-logo {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
  :root {
    --item-width: 120px;
    --item-height: 120px;
    --spacing: 40px;
  }
  
  .partner-carousel-item img {
    padding: 8px;
  }
}

@media (max-width: 768px) {
  :root {
    --item-width: 100px;
    --item-height: 100px;
    --spacing: 30px;
  }
  
  .partner-carousel-item img {
    padding: 6px;
  }
  
  .partner-carousel-wrapper {
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, 0),
      rgba(0, 0, 0, 1) 5%,
      rgba(0, 0, 0, 1) 95%,
      rgba(0, 0, 0, 0)
    );
  }
}

@media (max-width: 480px) {
  :root {
    --item-width: 80px;
    --item-height: 80px;
    --spacing: 20px;
  }
  
  .partner-carousel-item img {
    padding: 4px;
  }
  
  .partner-carousel-wrapper {
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, 0),
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 1) 100%,
      rgba(0, 0, 0, 0)
    );
  }
}
